{"ast":null,"code":"var _jsxFileName = \"/Users/jan/Documents/lambda/Web_Applications_II/12_Build_Week/FE/src/components/SignUp.js\";\nimport React, { useReducer } from 'react';\nimport { Form, Input, Button, Label, Div, StyledDiv, StyledDiv2, H2, P, Span1, Span2, Span3, Div2 } from '../styles/Styles';\nimport * as yup from 'yup';\nimport { useForm } from 'react-hook-form';\nimport { NavLink } from 'react-router-dom';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport ErrorMessagesSU from './ErrorMessagesSU';\n\nfunction equalTo(ref, msg) {\n  return yup.mixed().test({\n    name: 'equalTo',\n    exclusive: false,\n    message: msg || '${path} must be the same as ${reference}',\n    params: {\n      reference: ref.path\n    },\n    test: function (value) {\n      return value === this.resolve(ref);\n    }\n  });\n}\n\nyup.addMethod(yup.string, 'equalTo', equalTo);\nconst validationSchema = yup.object().shape({\n  email: yup.string().email('Must be in the form of an email.').required('Enter an email.').min(3, 'You need a longer email.').max(36, 'Email is too long.'),\n  password: yup.string().required('Enter a password.').min(6, 'Password is too short.').max(16, 'Password exceeds character limit.')\n});\nconst initialState = {\n  email: '',\n  password: '' // confirmPassword: ''\n\n};\n\nfunction loginReducer(state, action) {\n  return state;\n}\n\nexport default function SignUp(props) {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    validationSchema: validationSchema\n  });\n  const [state, dispatch] = useReducer(loginReducer, initialState); // email: 1234@gmail.com    password: 1234\n\n  const onSubmit = data => {\n    dispatch(state.email = data.email, state.password = data.password);\n    console.log('state', state, 'data', data); // e.preventDefault();\n\n    axiosWithAuth().post('/api/register', state).then(res => {\n      console.log('res from signup', res);\n      console.log('TOKEN:', res.data.token);\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('id', res.data.id);\n      props.history.push('/home-page');\n    }).catch(err => console.log(err));\n    document.getElementById('form').reset();\n  };\n\n  return React.createElement(Form, {\n    id: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(StyledDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Span3, {\n    className: \"backButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, `<`)), React.createElement(H2, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Create your account\"), React.createElement(StyledDiv2, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Div, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Label, {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Email\"), React.createElement(Input, {\n    name: \"email\",\n    type: \"text\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(Div, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Label, {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }))), React.createElement(Div, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(ErrorMessagesSU, {\n    errors: errors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), React.createElement(Button, {\n    id: \"submit\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(P, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Already have an account? \", React.createElement(NavLink, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Log In\"))));\n}","map":{"version":3,"sources":["/Users/jan/Documents/lambda/Web_Applications_II/12_Build_Week/FE/src/components/SignUp.js"],"names":["React","useReducer","Form","Input","Button","Label","Div","StyledDiv","StyledDiv2","H2","P","Span1","Span2","Span3","Div2","yup","useForm","NavLink","axiosWithAuth","ErrorMessagesSU","equalTo","ref","msg","mixed","test","name","exclusive","message","params","reference","path","value","resolve","addMethod","string","validationSchema","object","shape","email","required","min","max","password","initialState","loginReducer","state","action","SignUp","props","register","handleSubmit","errors","dispatch","onSubmit","data","console","log","post","then","res","token","localStorage","setItem","id","history","push","catch","err","document","getElementById","reset"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport {\n\tForm,\n\tInput,\n\tButton,\n\tLabel,\n\tDiv,\n\tStyledDiv,\n\tStyledDiv2,\n\tH2,\n\tP,\n\tSpan1,\n\tSpan2,\n\tSpan3,\n\tDiv2\n} from '../styles/Styles';\nimport * as yup from 'yup';\nimport { useForm } from 'react-hook-form';\nimport { NavLink } from 'react-router-dom';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport ErrorMessagesSU from './ErrorMessagesSU';\n\nfunction equalTo(ref, msg) {\n\treturn yup.mixed().test({\n\t\tname: 'equalTo',\n\t\texclusive: false,\n\t\tmessage: msg || '${path} must be the same as ${reference}',\n\t\tparams: {\n\t\t\treference: ref.path\n\t\t},\n\t\ttest: function(value) {\n\t\t\treturn value === this.resolve(ref);\n\t\t}\n\t});\n}\nyup.addMethod(yup.string, 'equalTo', equalTo);\n\nconst validationSchema = yup.object().shape({\n    email: yup\n    .string()\n    .email('Must be in the form of an email.')\n    .required('Enter an email.')\n    .min(3, 'You need a longer email.')\n    .max(36, 'Email is too long.'),\n    password: yup\n    .string().required('Enter a password.')\n    .min(6, 'Password is too short.')\n    .max(16, 'Password exceeds character limit.')\n});\n\nconst initialState = {\n\temail: '',\n\tpassword: '',\n\t// confirmPassword: ''\n};\n\nfunction loginReducer(state, action) {\n\treturn state;\n}\n\nexport default function SignUp(props) {\n\tconst { register, handleSubmit, errors } = useForm({ validationSchema: validationSchema });\n\tconst [ state, dispatch ] = useReducer(loginReducer, initialState);\n\n\t// email: 1234@gmail.com    password: 1234\n\tconst onSubmit = (data) => {\n\t\tdispatch((state.email = data.email), (state.password = data.password));\n\t\tconsole.log('state', state, 'data', data);\n\t\t// e.preventDefault();\n\t\taxiosWithAuth()\n\t\t\t.post('/api/register', state)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log('res from signup', res)\n\t\t\t\tconsole.log('TOKEN:', res.data.token);\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\n\t\t\t\tlocalStorage.setItem('id', res.data.id);\n\t\t\t\tprops.history.push('/home-page');\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\tdocument.getElementById('form').reset();\n\t};\n    return (\n            <Form id='form' onSubmit={handleSubmit(onSubmit)}>\n                <StyledDiv>\n                    <Span3 className='backButton'><NavLink to='/'>{`<`}</NavLink></Span3>\n                    <H2>Create your account</H2>\n                    <StyledDiv2>\n                        <Div>\n                            <Label htmlFor='email'>Email</Label>\n                            <Input name='email' type='text' ref={register} />\n                        </Div>\n                        <Div>\n                            <Label htmlFor='password'>Password</Label>\n                            <Input name='password' type='password' ref={register} />\n                        </Div>\n                    </StyledDiv2>\n                    <Div>\n                        <ErrorMessagesSU errors={errors}/>\n                    </Div>\n                    <Button id='submit' type='submit'>Sign Up</Button>\n                    <P>Already have an account? <NavLink to='/'>Log In</NavLink></P>\n                </StyledDiv>\n        </Form>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}